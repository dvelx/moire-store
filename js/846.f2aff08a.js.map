{"version":3,"file":"js/846.f2aff08a.js","mappings":"qqDAuHQA,GAAQC,EAAAA,EAAAA,MACRC,GAAgBC,EAAAA,EAAAA,IAAI,IACpB,QAAEC,EAAO,aAAEC,EAAY,QAAEC,EAAO,OAAEC,IAAUC,EAAAA,EAAAA,KAC5CC,GAAmBN,EAAAA,EAAAA,KAAI,GAEvBO,EAAY,KAChBV,EAAMW,SAAS,mBAAoB,CAACC,UAAWR,EAAQS,MAAMC,GAAIC,OAAQb,EAAcW,MAAOP,QAASA,EAAQO,MAAON,OAAQA,EAAOM,QACrIJ,EAAiBI,OAAQ,CAAI,EAEzBG,GAAcC,EAAAA,EAAAA,KAAS,KAC3B,MAAMC,EAAiBd,EAAQS,MAAMM,OAAOC,MAAKC,GAAQA,EAAKC,MAAMR,KAAOR,EAAQO,QACnF,YAAuBU,IAAnBL,EACKd,EAAQS,MAAMM,OAAO,GAAGK,QAAQ,GAAGC,KAAKC,IAExCR,EAAeM,QAAUN,EAAeM,QAAQ,GAAGC,KAAKC,IAAM,qBACvE,I,OAEFrB,EAAasB,EAAMf,W,+lECnIrB,MAAMgB,EAAc,EAEpB,O","sources":["webpack://moire/./src/components/ProductQuickView.vue","webpack://moire/./src/components/ProductQuickView.vue?1bab"],"sourcesContent":["<template>\n  <div v-if=\"product\">\n    <section class=\"item\">\n      <div class=\"item__pics pics\">\n        <div class=\"pics__wrapper\">\n          <img width=\"570\" height=\"570\" :src=\"activeImage || '/img/placeholder.png'\" :alt=\"product.title\">\n        </div>\n        <ul class=\"pics__list\">\n          <li class=\"pics__item\" v-for=\"item in product.colors\">\n            <button class=\"pics__link\" :class=\"item.gallery[0].file.url === activeImage ? 'pics__link--current' : ''\">\n              <img width=\"98\" height=\"98\" :src=\"item.gallery[0].file.url || null\" alt=\"Название товара\">\n            </button>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"item__info\">\n        <span class=\"item__code\">Артикул: {{ product.id }}</span>\n        <h2 class=\"item__title\">\n          {{ product.title }}\n        </h2>\n        <div class=\"item__form\">\n          <form class=\"form\" action=\"#\" method=\"POST\" @submit.prevent=\"addToCart\">\n            <div class=\"item__row item__row--center\">\n              <BaseCounter v-model:amount.number=\"productAmount\"/>\n\n              <b class=\"item__price\">\n                {{ product.priceFormat }} ₽\n              </b>\n            </div>\n\n            <div class=\"item__row\">\n              <fieldset class=\"form__block\">\n                <legend class=\"form__legend\">Цвет</legend>\n                <ul class=\"colors colors--black\">\n                  <li class=\"colors__item\" v-for=\"(property, index) of product.colors\">\n                    <label class=\"colors__label\">\n                      <input class=\"colors__radio sr-only\"  type=\"radio\" name=\"color-item\" :value=\"property.color.id\" v-model=\"colorId\">\n                      <span class=\"colors__value\" :style=\"{backgroundColor: property.color.code}\">\n                      </span>\n                    </label>\n                  </li>\n                </ul>\n              </fieldset>\n\n\n              <fieldset class=\"form__block\">\n                <legend class=\"form__legend\">Размер</legend>\n                <label class=\"form__label form__label--small form__label--select\">\n                  <select class=\"form__select\" name=\"sizes\" v-model=\"sizeId\">\n                    <option value=\"0\">Размеры</option>\n                    <option :value=\"size.id\" v-for=\"size of product.sizes\" :key=\"size.id\">{{ size.title }}</option>\n                  </select>\n                </label>\n              </fieldset>\n            </div>\n\n            <button class=\"item__button button button--primery\" type=\"submit\">\n              В корзину\n            </button>\n            <BaseModal v-model:open=\"isShowAddedModal\">\n              <p v-if=\"!store.state.addToCartError\">Товар Добавлен в корзину</p>\n              <p v-else>{{ store.state.addToCartError }}</p>\n            </BaseModal>\n          </form>\n        </div>\n      </div>\n\n      <div class=\"item__desc\">\n        <ul class=\"tabs\">\n          <li class=\"tabs__item\">\n            <a class=\"tabs__link tabs__link--current\">\n              Информация о товаре\n            </a>\n          </li>\n          <li class=\"tabs__item\">\n            <a class=\"tabs__link\" href=\"#\">\n              Доставка и возврат\n            </a>\n          </li>\n        </ul>\n\n        <div class=\"item__content\">\n          <h3>Состав:</h3>\n\n          <p>\n            60% хлопок<br>\n            30% полиэстер<br>\n          </p>\n\n          <h3>Уход:</h3>\n\n          <p>\n            Машинная стирка при макс. 30ºC короткий отжим<br>\n            Гладить при макс. 110ºC<br>\n            Не использовать машинную сушку<br>\n            Отбеливать запрещено<br>\n            Не подвергать химчистке<br>\n          </p>\n\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\n  import {useRoute} from \"vue-router\";\n  import {useStore} from \"vuex\";\n  import {computed, ref} from \"vue\";\n  import useProduct from \"@/hooks/useProduct\";\n  import BaseCounter from \"@/components/BaseCounter.vue\";\n  import BaseModal from \"@/components/BaseModal.vue\";\n  const props = defineProps({\n    productId: {\n      type: [Number, String],\n      required: true\n    }\n  })\n  const store = useStore()\n  const productAmount = ref(1)\n  const { product, fetchProduct, colorId, sizeId} = useProduct()\n  const isShowAddedModal = ref(false)\n\n  const addToCart = () => {\n    store.dispatch('addProductToCart', {productId: product.value.id, amount: productAmount.value, colorId: colorId.value, sizeId: sizeId.value})\n    isShowAddedModal.value = true\n  }\n  const activeImage = computed(() => {\n    const currentProduct = product.value.colors.find(item => item.color.id === colorId.value)\n    if (currentProduct === undefined) {\n      return product.value.colors[0].gallery[0].file.url\n    } else {\n      return currentProduct.gallery ? currentProduct.gallery[0].file.url : 'img/placeholder.png'\n    }\n  })\n  fetchProduct(props.productId)\n</script>\n\n  <style>\n  button {\n    border: none;\n    padding: 0;\n    margin: 0;\n  }\n</style>\n\n","import script from \"./ProductQuickView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductQuickView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProductQuickView.vue?vue&type=style&index=0&id=67db1626&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","productAmount","ref","product","fetchProduct","colorId","sizeId","useProduct","isShowAddedModal","addToCart","dispatch","productId","value","id","amount","activeImage","computed","currentProduct","colors","find","item","color","undefined","gallery","file","url","props","__exports__"],"sourceRoot":""}